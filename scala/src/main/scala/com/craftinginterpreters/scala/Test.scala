package com.craftinginterpreters.scala

extension (x: String)
  def convertToUnicode: String = x.map { c =>
    if (c > 127) f"\\u${c.toInt}%04x" else c
  }.mkString

object Test:
  def main(args: Array[String]): Unit =
    //    val json = ujson.read(os.read(os.pwd / "a.json"))
    //    println(json)
    //    println(convertJsonToUnicode(json))
    //    println(json.render(2, true))
    //    val context = params + accessKey;
    val txt = "{\"url\":\"http://mp.weixin.qq.com/s?__biz=MjM5MjAyNDUyMA==&mid=2651021204&idx=1&sn=845f87121013c9481e0ec65aa3975ae2&chksm=bd5b6d338a2ce425499583df67299798db035aadc48c2f382698ecccea7716e480ed16489774#rd\",\"title\":\"Rabbit R1每天仅剩5000人使用/詹姆斯·卡梅隆加入Stability AI/豆包视频大模型发布|Hunt Good周报\",\"pubTime\":1727603946000,\"text\":\"欢迎收看最新一期的\\n周报！\\nHunt Good\\n在本期内容你会看到：\\n8 条新鲜\\n5 个有用\\n1 个有趣\\n3 个鲜明\\n资讯\\n工具\\n案例\\n观点\\nHunt for News｜先进\\n头条\\n\uD83E\uDD2F 辉煌不再，Rabbit R1 日活量骤减至 5000\\n过去一年，AI 硬件行业都在寻找下一个 AI iPhone，但却又仿佛受到诅咒般地高开低走。\\n售价 199 美元的当红炸子鸡 Rabbit R1，在发售之初，一天之内就售出 1 万台，至今已售出超过 10 万台。\\n而最近，据创始人 Jesse Lyu（吕骋）透露，\\n现在每天大约只有 5000 人还在使用 R1。此外，自首次发布以来，他的团队已经向 R1 推送了 16 次无线更新。\\nLyu 也没有回避用户的差评如潮，但 他同时也表示，硬件初创公司如果想要参与到市场对话中，就必须接受产品的不完美。\\n如果你是一家初创公司，那你最好早点发货。\\n另外，Lyu 宣布，R1 即将在 10 月 1 日推出全新模型——Large Action Model。据称该模型能推理执行普通任务的步骤，比如购买音乐会门票、注册网站，甚至玩在线游戏等。\\n值得一提的是，\\n资深记者 Mish\\naal Rahman\\n曾指出，\\nR1\\n的底层系统\\n疑似套壳\\nAndroid\\n。\\nRabbit OS 和 LAM 都是在云端运行的，基于高度定制的 Android 开源项目，并进行了底层固件的修改。\\nLyu 则回应强调\\n\uD83D\uDD17 https://www.fastcompany.com/91196736/ai-hardware-is-in-its-flip-phone-phase\\n❌ 传 Arm 有意收购英特尔产品部门但遭拒\\n继曝出高通向英特尔发出收购邀约后，又一家巨头盯上了英特尔。\\n英特尔今年早些时候对将其产品和制造部门进行了拆分，分别成立了「英特尔代工（Intel Foundry）」 和 「英特尔产品（Intel Product）」 两个部门。\\n而据彭博社报道，Arm 有意收购英特尔的芯片产 品部门，但遭到了拒绝。\\n收购英特尔的产品部门将有助于 Arm 转向销售更多自己的产品，从而更好地和英伟达等 AI 芯片巨头竞争， 而不仅仅是销售芯片许可证。\\n在市值对比上，Arm 目前的市值比英特尔高出约 170 亿美元。\\n\uD83D\uDD17 https://fortune.com/europe/2024/09/27/british-semiconductor-darling-arm-buy-intel/\\n\uD83D\uDC27 腾讯类人形机器人首秀：轮足一体设计\\n9 月 24 日，腾讯 Robotics X  实验室人居环境机器人「5 号」（The Five，小五）正式亮相。\\n据介绍，作为腾讯 Robotics X 实验室最新一代机器人，小五集合了此前多代机器人研发的核心能力，融合了四腿轮足复合设计、大面积触觉皮肤、多指灵巧手以及安全人机物理交互等多项自研技术。\\n实验表明，小五可在真实人居环境中完成行走、搬运物体等动作，处理复杂任务，与人进行交互。\\n小五与此前的机器人最大的不同，是在本体上采用了四条直线腿和轮足复合的设计，既保持了足式机器人的越障能力，也保持了轮式机器人运行的效率，让机器人在平地上有更快的速度。\\n\uD83D\uDD17 https://mp.weixin.qq.com/s/pZUKo5OLLdARQGvG7pwM6A\\n\uD83D\uDCB0 Perplexity 拟推新广告模式：品牌可竞标赞助问题\\n「清爽、无广告」是当下 AI 搜索引擎的最大卖点，但也可能成为初创企业的致命弱点。\\nAI 搜索引擎领头羊 Perplexity 最近被曝出正在和 Nike 和万豪等品牌就新广告模式进行谈判。新广告模式将允许品牌对「赞助」问题进行竞价，具有广告商批准的 AI 生成答案。\\nPerplexity 表示，\\n希望在今年年底前推出广告系统，并瞄准「高端」品牌客户。\\n知情人士透露，在 Perplexity 的广告系统下，营销人员将按所谓的 CPM 收费，也就是为这些赞助帖子产生的每 1000 次展示支付超过 50 美元的费用。\\n相比之下，Google 估计为 1100 美元。\\n创始人兼 CEO Aravind Srinivas 称：「如果广告是相关的，并且来自高质量的品牌，那么这些广告就真的很有用，很多人都是基于这一点进行购买的。」\\n\uD83D\uDD17 https://www.ft.com/content/ecf299f4-e0a9-468b-af06-8a94e5f0b1f4\\n\uD83D\uDE4B\\u200d♂\uFE0F 导演詹姆斯·卡梅隆加入 Stability AI 董事会\\nStability AI 又缓过来了？\\n本周，Stability AI CEO Prem Akkaraju 宣布，曾执导过《泰坦尼克号》《异形》《阿凡达》等电影的导演詹姆斯·卡梅隆，加入 Stability AI 董事会。\\n卡梅隆以艺术家为中心的视角，加上他的商业和技术敏锐 度，将支持 Stability AI 继续释放新的机会，使创作者能够以曾经难以想象的方式讲述故事。\\nStability AI 在新闻稿中写道，\\n卡 梅隆的加入代表着 Stability AI 变革视觉媒体的使命向前迈出了重要一步。\\n卡梅隆曾表示：「早在三十多年前，我就已经站在了 CGI 技术的最前沿，并且从那时起，我就一直保持在这一领域的最尖端。现在，生成式 AI 与 CGI 图像创作的结合，正成为新一轮的技术浪潮。」\\n\uD83D\uDD17 https://stability.ai/news/james-cameron-joins-stability-ai-board-of-directors\\n\uD83D\uDD76\uFE0F Meta 发布史上最强 AR 眼镜\\n十年磨一剑，Meta AR 眼镜迎来 iPhone 时刻。\\n本周，Meta 发布了其首款 AR 智能眼镜 Orion，它一共由三个部分组成：\\n眼镜本体 ，一个手势追踪腕带，以及一个遥控器大小的「计算模块」，三者无线连接。\\n这种「分体式」的方案，加上机身采用了更轻的镁材料，Orion 眼镜本体实现了惊人的 98 克重量，并且能够实现 2 小时左右的续航。\\nOrion 的镜片并非是玻璃显示屏，而是碳化硅透镜。\\n 镜框上微型的投影仪会将光发射在波导中，而波导投射在透镜上，从而显示出具有不同纵深和大小的 AR 虚拟内容（扎克伯格称其为「全景图」）。\\n据 The Verge 的测试，Meta Orion 的视场角高达 70 度，可能是行业内拥有最宽视野的 AR 眼镜。\\n根据现有的演示视频，用户可以戴着眼镜打开多个 Meta Horizon App 窗户进行多任务，或者用 Meta AI 对现实世界的事物进行识别、标注。\\n不过，\\n目 前的 Orion 设备还是原型机，只面向部分开发者和体验人员提供，其中包括老朋友黄仁勋。\\n具体可以回看 APPSO 此前详细的总结文章——\\n真 AR 眼镜来了！十年保密项目烧钱数十亿，Meta 最强 AI 加持，黄仁勋首测\\n\uD83D\uDD17 https://about.fb.com/news/2024/09/introducing-orion-our-first-true-augmented-reality-glasses/\\n\uD83D\uDCB5 Character.AI 创始人= 27 亿美元？\\n一个 AI 天才值得付出多少酬劳？答案可能是 27 亿美元。\\n据《华尔街日报》报道，Google 向 Character.AI 开出一张约 27 亿美元的支票。\\n据悉，一方面，这笔费 用为了获得\\n的技术许可，\\nCharacter.\\nAI\\n另一方面，则是借此让创始人 Noam Shazeer 同意回归 Google。\\n在 Google 内部，人 们普遍认为 Shazeer 的回归是公司同意支付这笔巨额许可费用的主要原因。\\nShazeer 曾在 2000 年底加入 Google，是最重要的早期员工之一。\\n2017 年，\\n这篇论文首次提出了 Transformer 架构，为当今流行的生成式 AI 工具（如 ChatGPT、Claude 等）奠定了基础 。\\n他作为作者之一发表了论文《Attention is All You Need》，\\n2021 年，因对官僚主义感到失望，他从 Google 离职，随后与 Daniel de Freitas 共同创办了 Character.AI 公司。\\n\uD83D\uDD17 https://www.wsj.com/tech/ai/noam-shazeer-google-ai-deal-d3605697?mod=livecoverage\\\\_web\\n\uD83E\uDDD0 融资生变，OpenAI 高管震荡内幕再曝光\\n越是生机勃勃，越是震荡不断，此刻 OpenAI 正在迎来一种非世俗意 义上的「新生」。\\n，挥挥手引发两名高管出走，后又被曝出离职的 Ilya 曾考虑回归 OpenAI，却被公司管理层耍了一道。\\n先是 OpenAI CTO 宣布离职\\n没人想到，舆论风口的调转如此之快。\\n被誉为 AI 乔布斯的 Altman 在本周也拿到了反派角色的剧本，在其领导下 ，OpenAI 无视安全，\\n，又不断压榨员工，甚至连高管都苦不堪言。\\n匆忙上马拥有安全漏洞的 GPT-4o\\n而另一边，OpenAI 的融资进 展也突逢变数。\\n苹果在最后关头宣布退出 OpenAI 新一轮融资。不过，好在苹果选择「放手」后，微软、英伟达等巨头仍在谈判桌上。其中已投 130 亿美元的微软预计还将追加约 10 亿美元。\\n尽管本轮融资尚未最终敲定，参与者和投资金额仍有变动的可能。\\n但可预 见的是，OpenAI 正坚定地从非营利组织转型为营利性公司。因为报道还提到，若是 OpenAI 两年内没完成公司结构的重组，本轮投资者 将有权要求退回他们的「真金白银」。\\n这场 OpenAI 连续剧显然还将持续下去，吃瓜群众能做的也只有静待反转、反转和反转。\\n\uD83D\uDD17 https://www.wsj.com/tech/ai/open-ai-division-for-profit-da26c24b?mod=tech\\\\_feat1\\\\_ai\\\\_pos1\\nHunt for Tools｜先进工具\\n\uD83D\uDCC0 字节豆包视频大模型发布\\n文生视频的赛道越来越热闹了，两周一更新，一月一迭代。\\n9 月 24 日，字节跳动旗下火山引擎在深圳 举办 AI 创新巡展，一举推出了\\n豆包视频生成-PixelDance、豆包视频生成-Seaweed 两款大模型。\\n简单总结豆包视频模型的特点：\\n支持文生/图生视频，时长可达 10s\\n精准的语义理解，多动作多主体交互\\n一致性切镜\\n强大动态与酷炫运镜\\n高保真高美感，多风格 多尺寸\\n这次 APPSO 参与了内部测试，得到称得上是了不起的效果——还是那句话，很强，很炸裂\\n具体可以回看 APPSO 此前文章：\\n10 秒钟收获影视级短片，花式运镜主体依然清晰，这个全新国产视频模型稳稳拿捏\\n\uD83D\uDD17 https://mp.weixin.qq.com/s/1putuD\\\\_htU0qYtLnArG6yA\\n\uD83D\uDC4F Google 更新 Gemini 1.5 系列模型\\n近期，Google 宣布升级 Gemini 1.5 系列模型，推出了两款可投入生产的 Gemini 模型：Gemini-1.5-Pro-002 和 Gemini-1.5-Flash-002 。\\n相较于以往版本，这两款新模型均配备 2M 上下文窗口，是之前型号的两倍。\\n此外，1.5 Flash 模型请求速率限制提高 2 倍，而 1.5 Pro 模型请求速率限制提高约 3 倍。\\n并且，两种模型在 MMLU-Pro 基准测试中的成绩提升了约 7% ，在 MATH 基准测试中成绩提高了约 20%。\\n例如，Gemini 模型能够综合处理长达 1000 页的 PDF 文件，回答包含超过一万行代码的代码库的问题，甚至处理长达 1 小时的视频内容。\\nGemini 1.5 模型在今年 5 月份的 Google I/O 大会上首次亮 相，而这两款新模型在此基础上作出了改进。\\n开发人员现在可以通过 Google AI Studio 和 Gemini API 免费访问该模型。\\n\uD83D\uDD17 https://www.tomsguide.com/ai/google-just-dropped-new-versions-of-gemini-here-s-why-its-a-big-deal\\n\uD83D\uDCF2 Meta 发布端侧最强开源 AI 模型\\n近期，Meta 正式推出了 Llama 3.2 多模态 AI 模型。\\nLlama 3.2 涵盖不同大小的模型版本：\\n1B（文本输入）、3B（文本输入）、11B（文本+图像输入） 以及 90B（文本+图像输入）模型，适应于不同的应用场景和计算资源。\\nLlama 3.2 保持了与前代版本相同的 128K 上下文长度，允许用户输入大量文本，进行复杂的任务处理。\\n在相关的基准测试中，Llama 3.2 的视觉模型在图像理解任务上超越了其他竞争对手，如 Claude 3 Haiku 和 GPT-4o，在图像理解任务方面表现出色。\\n\uD83D\uDD17 https://ai.meta.com/blog/llama-3-2-connect-2024-vision-edge-mobile-devices/\\n\uD83E\uDD16 能进厂打工却未必拧得好螺丝\\n我们已经开始大规模讨论人形是否是机器人最合适的形态，但现实的发展或许还远远没到这一步。\\n据晚点 Late Post 报道，特斯拉 Optimus 人形机器人\\n目前已经生产数百台，但还不到可以上产线工作的状态，目前只能用来采集数据、测试不同的设计方案。\\n此前，Fortune 曾报道，为了更好地训练特斯拉 Optimus，特斯拉正在招聘「数据收集操作员」，以每小时 48 美元的价格进行数据收集和训练工作。\\n报道中还提到，一位接触过特斯拉团队的投资人表示，马斯克对人形的坚持，是为了换掉制约汽车制造的最后一个环节——工人。\\n马斯克的预言有很多，有声称 2029 年将会将人类送上火星，也声称明年 AI 将会比任何人都聪明，更曾大胆预言\\n20 年后地球上将会有大约 10 亿个人形机器人。\\n而马斯克那些年吹过的 「牛」也都基本实现了。\\n\uD83D\uDD17 https://mp.weixin.qq.com/s/jVxopXkmFYzU5MDk\\\\_qqcJw\\n\uD83D\uDC40 ChatGPT 高级语音模型宣布全量开放\\n不 用等到秋天，OpenAI 宣布 ChatGPT 新版高级语音模式将在本周内向所有 Plus 和 Team 用户全量推送。\\n不过，新版高级语音模式每天的使用时间也是有限制。\\nCNBC 和 X 网友 @MattVidPro 的体验都发现，只能和 ChatGPT 聊 45 分钟左右。当用户的使用时间剩余 15 分钟时，系统就会发出提醒。\\n此外，OpenAI 还一口气推出了五种听起来更自然的全新语音风格——Vale、Spruce、Arbor、Maple、Sol。\\n遗憾的是，ChatGPT 的视频和屏幕共享仍旧没上线。简言之，\\n姗姗来迟的高级语音模式本质上还是一个阉割品。\\n更多具体信息欢迎回看 APPSO 此前文章——\\nChatGPT 高级语音模式首批体验来了！网友玩坏了，但还是个阉割版\\n\uD83D\uDD17 https://x.com/OpenAI/status/1838642444365369814\\nHunt for Fun｜先行\\n\uD83C\uDFA8 Midjourney+可灵 AI=超级短片？\\n网友 @Alin_Reaper05 用 Midjourney+可灵 AI 做了一 段精彩的视频，具体效果如下：\\n具体 Prompt 如下，感兴趣的朋友不妨也一起「炼丹」。\\n向左滑动查看更多内容\\nMidjourney Prompt：Video game screenshot of an anthropomorphic wolf with large ears wearing brown and an eye patch, in the style of Studio Ghibli. Screengrab from the Monster Hunter World movie, created using Unreal Engine 5. --ar 16:9 --q 2 --v 6.1 --s 150 --p 85eqvou\\n可灵 Prompt：mesmerizing slowly movement of the face\\n\uD83D\uDD17 https://x.com/Alin\\\\_Reaper05/status/1838497603752788322\\nHunt for insights｜先知\\n\uD83D\uDEAB 宫本茂：拒绝盲目追随 AI 潮流，要走出不同的游戏开发道路\\n当 AI 在游戏的世界里「攻城略地」时，一部分游戏从业者却果断 Say no，拒绝盲目跟随 AI 潮流。\\n据《纽约时报》报道，任天堂灵魂人物宫本茂在接受采访时表 示，任天堂会更理性看待 AI 对游戏的影响，希望走出和其他电子游戏行业不同的路。\\n例如，现在有很多关于人工智能的讨论。当这种情况发生时，每个人都开始朝着同一个方向发展，但这正是任天堂更希望朝着不同方向发展的地方。\\n作为参考，索尼 PlayStation 之 父久多良木健曾表示，随着 AI 和其他新技术的出现，他预计游戏将逐渐进入实时计算时代。\\n\uD83D\uDD17 https://www.nytimes.com/2024/09/25/arts/design/shigeru-miyamoto-interview-nintendo-museum.html?searchResultPosition=1\\n\uD83E\uDD29 Tesla 前 AI 总监：什么是技术之 美\\n技术产品的本质是什么？这个过于宏观的问题其实也可以用计算器来作答。\\nTesla 前 AI 总监、OpenAI 创始团队成员 Andrej Karpathy 最近提出一个疑问，\\n为什么我们现在的科技大多都在向着这种复杂、依赖性过高、对用户不友好的方向演变？\\n计算器是你大脑的一个完全自给自足的算术插件。它今天可以工作，几千年前也能工作。你为它买单，它就归你所有。它没有其他的主人。它只做它该做的事。它是完美的。\\n他以计算器举例称，相比繁琐复杂的现代科技产品，计算器自给自足，操作简单，可以长期工作，支持一次购买，不会收集用户信息，无需账户、更新、权限，没有广告或促销、无数据泄露风险。\\nKarpathy 建议，\\n其中消费者应该更加警惕，拒绝 不良的科技趋势，而开发者应该在设计产品时考虑更多的伦理和隐私问题。\\n消费者和开发者应该记住技术可以是什么样子。\\n\uD83D\uDD17 https://karpathy.ai/blog/calculator.html\\n\uD83E\uDD33 扎克伯格：创作者和出版商往往「高估」了他们的作品对训练 AI 的价值\\nMeta CEO 扎克 伯格在接受采访时谈到了抓取创作者数据训练 AI 模型的版权问题。\\n他认为大多数创作者的个人作品价值不高，Meta 可能会为有价值 的内容建立合作伙伴关系，\\n但如果创作者要求付费，Meta 可能会像对新闻媒体那样选择放弃使用其内容。\\n「我认为个人创作者或出 版商往往会高估他们特定内容的价值。」\\nMeta 目前也卷入了关于未经许可抓取数据用于 AI 训练的诉讼，Meta 认为这种行为在法律上应该是被允许的。扎克伯格解释道：\\n我认为，在任何一种新的技术媒介中，都有围绕合理使用的概念，以及你所能控制的界限在哪里。\\n当你把东西放到世界上时，你在多大程度上还能控制它、拥有它、许可它？\\n我认为，在 AI 时代，所有这些问题基本上都需要重新审视和讨论。\\n\uD83D\uDD17 https://www.theverge.com/2024/9/25/24254042/mark-zuckerberg-creators-value-ai-meta\\n彩蛋时间\\n\uD83D\uDE04《天空之 城》\\n作者：@SmokeAwayyy\\n链接：https://x.com/SmokeAwayyy/status/1839443805147435191\",\"pictureList\":[\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0788e65e7ed111ef860860452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/07b7ba897ed111ef98bf60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/07daf79a7ed111efad1860452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/07fb6b677ed111efa29b60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/08255d6d7ed111ef8d7660452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/08488b737ed111efb5cf60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/086adbcb7ed111efb4b960452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0894d58c7ed111efaafc60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/08c3c6ae7ed111ef864460452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/08ddcfe27ed111ef946860452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/08ff8dc77ed111ef9eda60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/09268b717ed111efa14060452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/098a9ca57ed111efa96c60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/09ff7a887ed111efbe5760452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0a5894ee7ed111efab3360452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0ac03b027ed111efa9b860452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0b14973e7ed111ef8c7160452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0b3550017ed111ef819c60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0b6d86ad7ed111efb3a260452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0ba3c94b7ed111ef832f60452e7fbae7.jpg\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0bcd37567ed111ef977e60452e7fbae7.jpg\"],\"videoList\":[\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0bfd9fdc7ed111efb1b560452e7fbae7.mp4\",\"https://media-perception.oss-cn-shanghai.aliyuncs.com/0c7891cc7ed111ef8cb360452e7fbae7.mp4\"],\"id\":20,\"state\":1,\"name\":\"APPSO\"}sfo9tYSzXYjGIzAbhFBs6wHhxiWZZsA5QFCHV2yLsg0="
    val md5 = java.security.MessageDigest.getInstance("MD5")
    println(md5.digest(txt.getBytes).map(String.format("%02x", _)).mkString)


  def convertJsonToUnicode(json: ujson.Value): ujson.Value = json match
    case ujson.Str(s) => ujson.Str(s.convertToUnicode)
    case ujson.Obj(obj) =>
      val items = obj.map { case (k, v) => k.convertToUnicode -> convertJsonToUnicode(v) }
      ujson.Obj(items.head, items.tail.toSeq *)
    case ujson.Arr(arr) =>
      ujson.Arr(arr.map(convertJsonToUnicode).toSeq *)
    case other => other // For numbers, booleans, and null, leave them unchanged

